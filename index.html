<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemStore</title>
    <link rel="icon" type="image/png" href="img/logo.png">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f5f7fa;
            color: #333;
        }
        header {
            background-color: #e6f4f7;
            color: #2c3e50;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        nav {
            background-color: #dceef2;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: #4a7a8c;
            margin: 0 15px;
            text-decoration: none;
            font-weight: bold;
        }
        section {
            padding: 20px;
        }
        .productos, .servicios {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .card {
            background: #ffffff;
            color: #333;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        footer {
            background-color: #e6f4f7;
            color: #4a7a8c;
            text-align: center;
            padding: 15px;
        }
    @media (max-width: 768px) {
        header {
            flex-direction: column;
            text-align: center;
        }
        .logo {
            width: 120px;
            height: 120px;
        }
        nav a {
            display: block;
            margin: 10px 0;
        }
    }

    @media (max-width: 480px) {
        section {
            padding: 15px;
        }
        h1 {
            font-size: 1.6em;
        }
    }
.dark-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ffffff;
            border: 2px solid #4a7a8c;
            padding: 10px 14px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            font-size: 18px;
            z-index: 1000;
        }

        body.dark {
            background-color: #05070f;
            color: #eaeaea;
            background-image:
                radial-gradient(2px 2px at 20px 30px, #ffffff, transparent),
                radial-gradient(1.5px 1.5px at 80px 120px, #ffffff, transparent),
                radial-gradient(1px 1px at 150px 200px, #ffffff, transparent),
                radial-gradient(2px 2px at 250px 400px, #ffffff, transparent),
                radial-gradient(1.5px 1.5px at 350px 100px, #ffffff, transparent);
            background-size: 400px 400px;
        }
        body.dark header,
        body.dark nav,
        body.dark footer {
            background: linear-gradient(180deg, #0b1026, #05070f);
            color: #eaeaea;
        }
        body.dark .card {
            background: rgba(20, 25, 60, 0.85);
            backdrop-filter: blur(4px);
            color: #eaeaea;
            box-shadow: 0 0 20px rgba(255,255,255,0.05);
        }
        section, .card {
            animation: fadeIn 0.8s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
      body.dark .card h3,
body.dark .card p {
    color: #eaeaea;
}

body.dark section h2 {
    color: #ffffff;
}


/* ===== EXTRAS COMENTARIOS ===== */
.estrellas {
    display: flex;
    gap: 5px;
    margin: 5px 0;
    cursor: pointer;
}
.estrellas span {
    font-size: 20px;
    color: #ccc;
}
.estrellas span.activa {
    color: gold;
}
.btn-borrar {
    background: #e74c3c;
    color: white;
    border: none;
    padding: 4px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    margin-top: 6px;
}

body.dark .btn-borrar {
    background: #c0392b;
}
/* ‚≠ê Estrellas */
.estrellas {
  display: flex;
  gap: 6px;
  cursor: pointer;
}

.estrellas span {
  font-size: 22px;
  color: #ccc;
}

.estrellas span.activa {
  color: gold;
}

/* üóëÔ∏è Bot√≥n borrar */
.btn-borrar {
  background: #e74c3c;
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 5px;
  font-size: 12px;
}

body.dark .btn-borrar {
  background: #c0392b;
}
.logo {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    object-fit: cover;
}
/* ===== COMENTARIOS EST√âTICOS ===== */
.comentarios {
    background: linear-gradient(180deg, #ffffff, #f1f6f8);
    padding: 25px;
    border-radius: 16px;
    max-width: 900px;
    margin: 30px auto;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.comentarios form {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.comentarios input,
.comentarios textarea {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 14px;
}

.comentarios textarea {
    resize: none;
    min-height: 80px;
}

.comentarios button {
    background: #4a7a8c;
    color: white;
    border: none;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
}

.comentarios button:hover {
    background: #3b6473;
}

#listaComentarios .card {
    margin-top: 15px;
    text-align: left;
}

body.dark .comentarios {
    background: rgba(10,15,40,0.9);
}
.respuesta{
    margin-top: 10px;
    padding: 10px;
    background: #eef7fa;
    border-left: 4px solid #0a4c63;
    border-radius: 6px;
    font-size: 14px;
}
.respuesta-input{
    width: 100%;
    margin-top: 8px;
}
/* ===== ADMIN LOGIN FIJO ===== */
#admin-box { 
  position: absolute;        /* üîí NO SE MUEVE */
  top: 15px;
  right: 15px;
  background: rgba(255,255,255,0.95);
  padding: 14px;
  width: 220px;
  border-radius: 14px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  z-index: 99999;            /* üî• s√∫belo m√°s */
  font-size: 14px;
}


#admin-box input {
  width: 100%;
  padding: 6px;
  margin: 6px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
}

#admin-box button {
  width: 100%;
  margin-top: 5px;
  padding: 6px;
  border: none;
  border-radius: 6px;
  background: #4a7a8c;
  color: white;
  cursor: pointer;
}

#admin-status {
  font-size: 12px;
  margin-bottom: 6px;
  color: #555;
}

body.dark #admin-box {
  background: rgba(20,25,60,0.95);
  color: #eaeaea;
}
 .btn-like {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
  margin-top: 6px;
}

.respuesta {
  background: #eef6f8;
  padding: 8px;
  border-radius: 8px;
  margin-top: 6px;
  font-size: 13px;
}

body.dark .respuesta {
  background: rgba(255,255,255,0.1);
}
/* üîò BOT√ìN ADMIN (TODOS LOS DISPOSITIVOS) */
#admin-toggle {
  position: fixed;
  top: 14px;
  right: 14px;
  background: #4a7a8c;
  color: white;
  border: none;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 13px;
  cursor: pointer;
  z-index: 100000;
}

/* üì¶ PANEL ADMIN */
#admin-box {
  position: fixed;
  top: 55px;
  right: 14px;
  width: 230px;
  background: rgba(255,255,255,0.96);
  padding: 14px;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  z-index: 100001;
  display: none;
}

/* üåô MODO OSCURO */
body.dark #admin-box {
  background: rgba(20,25,60,0.95);
  color: #eaeaea;
}

/* üîì CUANDO EST√Å ACTIVO */
#admin-box.activo {
  display: block;
}
/* üå´Ô∏è FONDO MODAL */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(5px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200000;
}

/* üì¶ CONTENIDO */
.modal-contenido {
  background: white;
  padding: 20px;
  border-radius: 16px;
  max-width: 350px;
  width: 90%;
  text-align: center;
  position: relative;
}

.modal-contenido img {
  max-width: 100%;
  border-radius: 12px;
  margin-bottom: 10px;
}

/* ‚ùå CERRAR */
.modal-cerrar {
  position: absolute;
  top: 10px;
  right: 14px;
  font-size: 22px;
  cursor: pointer;
}

/* üåô DARK MODE */
body.dark .modal-contenido {
  background: #0b1026;
  color: #eaeaea;
}
/* üå´Ô∏è FONDO DESENFOCADO */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(5px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200000;
}

/* üì¶ MODAL */
.modal-producto {
  background: white;
  padding: 20px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  position: relative;
  text-align: center;
}

body.dark .modal-producto {
  background: #0b1026;
  color: #eaeaea;
}

/* ‚ùå CERRAR */
.cerrar {
  position: absolute;
  top: 10px;
  right: 14px;
  font-size: 22px;
  cursor: pointer;
}

/* üñºÔ∏è SLIDER */
.slider {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.slider img {
  width: 100%;
  max-height: 220px;
  object-fit: contain;
  border-radius: 12px;
}

/* ‚óÄ ‚ñ∂ */
.flecha {
  position: absolute;
  background: rgba(0,0,0,0.6);
  color: white;
  border: none;
  font-size: 18px;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 50%;
}

.izquierda { left: 5px; }
.derecha { right: 5px; }


</style>
</head>
<body>
  <button id="admin-toggle">‚öôÔ∏è Admin</button>

    <!-- üîê PANEL ADMIN -->
<div id="admin-box">
  <strong>Admin</strong>
  <div id="admin-status">Modo visitante</div>

  <input type="password" id="admin-password" placeholder="Clave admin">
  <button id="admin-login">Entrar</button>
  <button id="admin-logout" style="display:none;">Salir</button>
</div>


<header>
    <img src="img/mejorn.png" alt="Logo MemStore" class="logo">
    <div>
        <h1>MemStore</h1>
        <p>Venta de tecnolog√≠a y servicios especializados</p>
    </div>
</header>

<nav>
    <a href="#inicio">Inicio</a>
    <a href="#productos">Productos</a>
    <a href="#servicios">Servicios</a>
    <a href="#contacto">Contacto</a>
</nav>

<section id="inicio">
    <h2>Bienvenido</h2>
    <p>
        En <strong>MemStore</strong> nos dedicamos a ofrecer productos tecnol√≥gicos de calidad junto a servicios confiables que se adaptan a tus necesidades. Nuestro objetivo es brindarte soluciones pr√°cticas, accesibles y eficientes, ya sea para el estudio, el trabajo o el uso personal.
    </p>
    <p>
        Contamos con un equipo comprometido en ayudarte a elegir el producto ideal y en ofrecerte soporte t√©cnico profesional. En MemStore creemos en la tecnolog√≠a como una herramienta para facilitar tu d√≠a a d√≠a.
    </p>
</section>

<section id="productos">
    <h2>Productos</h2>
    <div class="productos">

       <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>


              <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>


               <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>


               <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>


               <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>

               <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>


               <div class="card producto"
 data-titulo="Memoria RAM 4GB DDR4"
 data-desc="Ideal para mejorar el rendimiento"
 data-imgs="img/ram1.png,img/ram2.png,img/ram3.png">
  <h3>Memoria RAM 4GB DDR4</h3>
  <p>Ideal para mejorar el rendimiento.</p>
</div>

    </div>
</section>

<section id="servicios">
    <h2>Servicios</h2>
    <div class="servicios">
        <div class="card"><h3>Limpieza de Hardware</h3><p>Mantenimiento interno del equipo.</p></div>
        <div class="card"><h3>Limpieza de Software</h3><p>Eliminaci√≥n de virus y archivos basura.</p></div>
        <div class="card"><h3>Instalaci√≥n de Windows</h3><p>Windows 10 y 11.</p></div>
        <div class="card"><h3>Activaci√≥n de Windows</h3><p>Licencia funcional.</p></div>
        <div class="card"><h3>Instalaci√≥n de Office</h3><p>Word, Excel, PowerPoint.</p></div>
        <div class="card"><h3>Activaci√≥n de Office</h3><p>Office completamente activo.</p></div>
        <div class="card"><h3>Instalaci√≥n de Juegos</h3><p>PC y laptops.</p></div>
    </div>
</section>
<section id="contacto">
    <h2>Contacto</h2>
    <p>Instagram:<a href="https://www.instagram.com/menstore_2026/?hl=en">Menstore_2026</a> </p>
</section>

<section class="comentarios">
  <h2>Comentarios</h2>

  <form id="comentarios-form">
    <input type="text" id="nombre" placeholder="Tu nombre" required>

    <textarea id="mensaje" placeholder="Escribe tu comentario" required></textarea>

    <!-- ‚≠ê Estrellas -->
    <div class="estrellas" id="rating">
      <span data-val="1">‚òÖ</span>
      <span data-val="2">‚òÖ</span>
      <span data-val="3">‚òÖ</span>
      <span data-val="4">‚òÖ</span>
      <span data-val="5">‚òÖ</span>
    </div>

    <button type="submit">Enviar</button>
  </form>

  <div id="listaComentarios"></div>
</section>


<footer>
    <p>&copy; 2026 MemStore - Todos los derechos reservados</p>
</footer>

<button id="dark-toggle" class="dark-btn">üåô</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
getFirestore, collection, addDoc, getDocs,
deleteDoc, updateDoc, doc, serverTimestamp
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

/* ===== FIREBASE ===== */
const firebaseConfig = {
apiKey: "AIzaSyARY4cN8Nvb3UPUxWl18lNoa96rpKe6fI8",
authDomain: "memstore-789aa.firebaseapp.com",
projectId: "memstore-789aa",
storageBucket: "memstore-789aa.firebasestorage.app",
messagingSenderId: "34887724609",
appId: "1:34887724609:web:dc35d5480bbcb6b39f60c0"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const comentariosRef = collection(db,"comentarios");

/* ===== ADMIN ===== */
const CLAVE_ADMIN = "28241708";
let esAdmin = localStorage.getItem("admin") === "true";

const adminStatus = document.getElementById("admin-status");
const adminInput = document.getElementById("admin-password");
const btnLogin = document.getElementById("admin-login");
const btnLogout = document.getElementById("admin-logout");

function actualizarAdminUI() {
  if (esAdmin) {
    adminStatus.textContent = "Modo administrador";
    adminInput.style.display = "none";
    btnLogin.style.display = "none";
    btnLogout.style.display = "block";
  } else {
    adminStatus.textContent = "Modo visitante";
    adminInput.style.display = "block";
    btnLogin.style.display = "block";
    btnLogout.style.display = "none";
  }
}

actualizarAdminUI();

/* LOGIN */
btnLogin.addEventListener("click", () => {
  if (adminInput.value === CLAVE_ADMIN) {
    esAdmin = true;
    localStorage.setItem("admin", "true");
    adminInput.value = "";
    actualizarAdminUI();
    cargarComentarios();
  } else {
    alert("Clave incorrecta bro ‚ùå");
  }
});

/* LOGOUT */
btnLogout.addEventListener("click", () => {
  esAdmin = false;
  localStorage.removeItem("admin");
  actualizarAdminUI();
  cargarComentarios();
});

/* ===== ESTRELLAS ===== */
let rating=0;
document.addEventListener("click",e=>{
if(e.target.parentElement?.id==="rating"){
rating=+e.target.dataset.val;
document.querySelectorAll("#rating span").forEach(s=>{
s.classList.toggle("activa",s.dataset.val<=rating)
})
}
});

/* ===== CARGAR COMENTARIOS ===== */
async function cargarComentarios() {
  const lista = document.getElementById("listaComentarios");
  lista.innerHTML = "";

  const snap = await getDocs(comentariosRef);

  snap.forEach(d => {
    const c = d.data();
    const div = document.createElement("div");
    div.className = "card";

    const likeKey = `like_${d.id}`;
    const yaDioLike = localStorage.getItem(likeKey);

    div.innerHTML = `
      <strong>${c.nombre}</strong>
      <p>${c.mensaje}</p>
      <div>${"‚òÖ".repeat(c.rating || 0)}</div>

      <button class="btn-like" ${yaDioLike ? "disabled" : ""}>
        üëç ${c.likes || 0}
      </button>

      ${c.respuesta ? `
        <div class="respuesta">
          <strong>Admin:</strong> ${c.respuesta}
        </div>
      ` : ""}

      ${esAdmin ? `
        <textarea class="respuesta-input" placeholder="Responder comentario..."></textarea>
        <button class="btn-responder">Responder</button>
        <button class="btn-borrar">üóëÔ∏è Eliminar comentario</button>
        ${c.respuesta ? `<button class="btn-borrar-respuesta">üóëÔ∏è Borrar respuesta</button>` : ""}
      ` : ""}
    `;

    /* üëç LIKE (TODOS) */
    const btnLike = div.querySelector(".btn-like");
    if (btnLike && !yaDioLike) {
      btnLike.onclick = async () => {
        await updateDoc(doc(db, "comentarios", d.id), {
          likes: (c.likes || 0) + 1
        });
        localStorage.setItem(likeKey, "true");
        cargarComentarios();
      };
    }

    /* üí¨ RESPONDER (ADMIN) */
    if (esAdmin) {
      div.querySelector(".btn-responder")?.addEventListener("click", async () => {
        const texto = div.querySelector(".respuesta-input").value.trim();
        if (!texto) return alert("Escribe una respuesta bro");

        await updateDoc(doc(db, "comentarios", d.id), {
          respuesta: texto
        });
        cargarComentarios();
      });

      /* üóëÔ∏è BORRAR COMENTARIO */
      div.querySelector(".btn-borrar")?.addEventListener("click", async () => {
        if (!confirm("¬øSeguro que quieres borrar este comentario?")) return;
        await deleteDoc(doc(db, "comentarios", d.id));
        cargarComentarios();
      });

      /* üóëÔ∏è BORRAR RESPUESTA */
      div.querySelector(".btn-borrar-respuesta")?.addEventListener("click", async () => {
        await updateDoc(doc(db, "comentarios", d.id), {
          respuesta: ""
        });
        cargarComentarios();
      });
    }

    lista.appendChild(div);
  });
}


/* ===== ENVIAR ===== */
document.getElementById("comentarios-form").addEventListener("submit",async e=>{
e.preventDefault();
await addDoc(comentariosRef,{
nombre:nombre.value,
mensaje:mensaje.value,
rating,
likes: 0,
fecha:serverTimestamp()
});
e.target.reset();
rating=0;
cargarComentarios();
});

window.addEventListener("load",cargarComentarios);

const adminBox = document.getElementById("admin-box");
const adminToggle = document.getElementById("admin-toggle");

/* ABRIR / CERRAR */
adminToggle.addEventListener("click", (e) => {
  e.stopPropagation();
  adminBox.classList.toggle("activo");
});

/* CERRAR TOCANDO FUERA */
document.addEventListener("click", (e) => {
  if (
    adminBox.classList.contains("activo") &&
    !adminBox.contains(e.target) &&
    e.target !== adminToggle
  ) {
    adminBox.classList.remove("activo");
  }
});

/* CERRAR AL ENTRAR O SALIR */
btnLogin.addEventListener("click", () => {
  adminBox.classList.remove("activo");
});

btnLogout.addEventListener("click", () => {
  adminBox.classList.remove("activo");
});

/* üåô MODO OSCURO (FIX DEFINITIVO) */
const darkBtn = document.getElementById("dark-toggle");

darkBtn.addEventListener("click", () => {
  document.body.classList.toggle("dark");

  if (document.body.classList.contains("dark")) {
    localStorage.setItem("darkMode", "on");
  } else {
    localStorage.removeItem("darkMode");
  }
});


/* MANTENER MODO OSCURO */
if (localStorage.getItem("darkMode") === "on") {
  document.body.classList.add("dark");
}
/* üñºÔ∏è MODAL PRODUCTOS CON SLIDER */
const overlay = document.getElementById("overlay");
const modalImg = document.getElementById("modal-img");
const modalTitulo = document.getElementById("modal-titulo");
const modalDesc = document.getElementById("modal-desc");
const cerrar = document.querySelector(".cerrar");

const flechaIzq = document.querySelector(".izquierda");
const flechaDer = document.querySelector(".derecha");

let imagenes = [];
let index = 0;

/* ABRIR */
document.querySelectorAll(".producto").forEach(card => {
  card.addEventListener("click", () => {
    imagenes = card.dataset.imgs.split(",");
    index = 0;

    modalImg.src = imagenes[index];
    modalTitulo.textContent = card.dataset.titulo;
    modalDesc.textContent = card.dataset.desc;

    overlay.style.display = "flex";
  });
});

/* CERRAR */
cerrar.onclick = () => overlay.style.display = "none";
overlay.onclick = e => {
  if (e.target === overlay) overlay.style.display = "none";
};

/* FLECHAS */
flechaDer.onclick = () => {
  index = (index + 1) % imagenes.length;
  modalImg.src = imagenes[index];
};

flechaIzq.onclick = () => {
  index = (index - 1 + imagenes.length) % imagenes.length;
  modalImg.src = imagenes[index];
};

</script>

<!-- üñºÔ∏è MODAL PRODUCTO -->
<div id="overlay" class="overlay">
  <div class="modal-producto">
    <span class="cerrar">&times;</span>

    <div class="slider">
      <button class="flecha izquierda">‚ùÆ</button>
      <img id="modal-img" src="" alt="Producto">
      <button class="flecha derecha">‚ùØ</button>
    </div>

    <h3 id="modal-titulo"></h3>
    <p id="modal-desc"></p>
  </div>
</div>


</body>
</html>
